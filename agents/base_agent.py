# ZORA MODULE HEADER

"""
Module Name: base_agent
Generated by ZORA SYSTEM â€“ All rights reserved.
Base Agent Class for ZORA AI Integration
"""

import time
import logging
from abc import ABC, abstractmethod
from typing import Dict, Any, Optional

class BaseAgent(ABC):
    """Base class for all ZORA AI agents"""
    
    def __init__(self, name: str, api_key: Optional[str] = None):
        self.name = name
        self.api_key = api_key
        self.last_ping = None
        self.status = "initialized"
        self.logger = logging.getLogger(f"zora.agents.{name}")
    
    @abstractmethod
    def ping(self, message: str) -> Dict[str, Any]:
        """Ping the agent with a message and return response"""
        pass
    
    def get_status(self) -> Dict[str, Any]:
        """Get current agent status"""
        return {
            "name": self.name,
            "status": self.status,
            "last_ping": self.last_ping,
            "timestamp": time.time()
        }
    
    def log_activity(self, activity: str, data: Any = None):
        """Log agent activity"""
        self.logger.info(f"{self.name}: {activity}", extra={"data": data})
    
    def handle_error(self, error: Exception) -> Dict[str, Any]:
        """Handle and log errors"""
        self.status = "error"
        self.logger.error(f"{self.name} error: {str(error)}")
        return {
            "name": self.name,
            "status": "error",
            "error": str(error),
            "timestamp": time.time()
        }
