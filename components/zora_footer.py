# ZORA MODULE HEADER

"""
Module Name: zora_footer
Generated by ZORA SYSTEM â€“ All rights reserved.
INFINITY INJEKTIONâ„¢ - Universal Footer Component System
Reusable footer generation for all ZORA CORE web properties
"""

import sys
import os
sys.path.append(os.path.dirname(os.path.dirname(os.path.abspath(__file__))))

from zora_contact_config import (
    ZORA_CONTACT_INFO, 
    get_localized_email_label, 
    generate_phone_number,
    get_full_contact_data,
    INFINITY_FOOTER_STRUCTURE,
    INFINITY_EMAIL,
    INFINITY_CVR,
    INFINITY_HQ_ADDRESS
)

def generate_footer_html(language: str = "en", subdomain: str = "", responsive: bool = True) -> str:
    """
    Generate universal ZORA CORE footer HTML with INFINITY INJEKTIONâ„¢
    
    Args:
        language: ISO 639-1 language code for localization
        subdomain: Subdomain identifier for customization
        responsive: Whether to include responsive design classes
        
    Returns:
        Complete HTML footer string with contact information
    """
    contact_info = ZORA_CONTACT_INFO
    email_label = get_localized_email_label(language)
    phone = generate_phone_number(subdomain)
    
    responsive_class = "responsive" if responsive else ""
    
    footer_html = f"""
    <footer class="zora-infinity-footer {responsive_class}">
        <div class="footer-container">
            <div class="footer-section headquarters">
                <h4>ğŸ¢ {contact_info['headquarters']['name']}</h4>
                <p class="address">{contact_info['headquarters']['address']}</p>
                <p class="cvr">CVR: {contact_info['headquarters']['cvr']}</p>
                <p class="country">{contact_info['headquarters']['country']}</p>
            </div>
            
            <div class="footer-section p-enheder">
                <h4>ğŸ“ {contact_info['p_enheder']['structure']}</h4>
                <div class="p-enhed kobberhjornet">
                    <strong>{contact_info['p_enheder']['kobberhjornet']['name']}</strong>
                    <p>{contact_info['p_enheder']['kobberhjornet']['address']}</p>
                </div>
                <div class="p-enhed oringe">
                    <strong>{contact_info['p_enheder']['oringe']['name']}</strong>
                    <p>{contact_info['p_enheder']['oringe']['address']}</p>
                </div>
            </div>
            
            <div class="footer-section contact">
                <h4>ğŸ“§ {email_label}</h4>
                <p class="email">
                    <a href="mailto:{contact_info['contact']['email']}" class="email-link">
                        {contact_info['contact']['email']}
                    </a>
                </p>
                <p class="phone">ğŸ“ {phone}</p>
                <p class="website">
                    <a href="{contact_info['contact']['website']}" class="website-link" target="_blank">
                        {contact_info['contact']['website']}
                    </a>
                </p>
            </div>
            
            <div class="footer-section legal">
                <h4>ğŸ›ï¸ Legal</h4>
                <p class="company-type">{contact_info['legal']['legal_name']}</p>
                <p class="vat">VAT: {contact_info['legal']['vat_number']}</p>
                <p class="founded">Founded: {contact_info['legal']['founded']}</p>
            </div>
        </div>
        
        <div class="footer-bottom">
            <div class="infinity-branding">
                <p>â™¾ï¸ <strong>INFINITY MODEâ„¢</strong> - Powered by ZORA CORE</p>
                <p class="founder">Founder: <strong>MADS PALLISGAARD</strong></p>
            </div>
            <div class="compliance">
                <p>ğŸ›¡ï¸ GDPR Compliant â€¢ ğŸ”’ Secure â€¢ â™¾ï¸ Infinite Optimization</p>
            </div>
        </div>
    </footer>
    """
    
    return footer_html

def generate_footer_css(theme: str = "dark") -> str:
    """
    Generate CSS styles for ZORA INFINITY footer
    
    Args:
        theme: Color theme ('dark', 'light', 'auto')
        
    Returns:
        CSS string for footer styling
    """
    if theme == "light":
        bg_color = "rgba(255, 255, 255, 0.95)"
        text_color = "#333333"
        accent_color = "#667eea"
        link_color = "#764ba2"
    else:  # dark theme
        bg_color = "rgba(0, 0, 0, 0.3)"
        text_color = "#ffffff"
        accent_color = "#FFD700"
        link_color = "#FFD700"
    
    css = f"""
    .zora-infinity-footer {{
        background: {bg_color};
        color: {text_color};
        border-radius: 10px;
        padding: 30px 20px;
        margin-top: 40px;
        backdrop-filter: blur(10px);
        border: 1px solid rgba(255, 255, 255, 0.1);
    }}
    
    .footer-container {{
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
        gap: 30px;
        max-width: 1200px;
        margin: 0 auto;
    }}
    
    .footer-section h4 {{
        color: {accent_color};
        margin-bottom: 15px;
        font-size: 1.1em;
        font-weight: bold;
    }}
    
    .footer-section p {{
        margin: 8px 0;
        line-height: 1.4;
        opacity: 0.9;
    }}
    
    .p-enhed {{
        margin-bottom: 15px;
        padding: 10px;
        background: rgba(255, 255, 255, 0.05);
        border-radius: 5px;
    }}
    
    .p-enhed strong {{
        color: {accent_color};
        display: block;
        margin-bottom: 5px;
    }}
    
    .email-link, .website-link {{
        color: {link_color};
        text-decoration: none;
        transition: opacity 0.3s ease;
    }}
    
    .email-link:hover, .website-link:hover {{
        opacity: 0.8;
        text-decoration: underline;
    }}
    
    .footer-bottom {{
        margin-top: 30px;
        padding-top: 20px;
        border-top: 1px solid rgba(255, 255, 255, 0.1);
        text-align: center;
    }}
    
    .infinity-branding {{
        margin-bottom: 10px;
    }}
    
    .infinity-branding p {{
        margin: 5px 0;
    }}
    
    .compliance p {{
        font-size: 0.9em;
        opacity: 0.7;
    }}
    
    /* Responsive Design */
    @media (max-width: 768px) {{
        .footer-container {{
            grid-template-columns: 1fr;
            gap: 20px;
        }}
        
        .zora-infinity-footer {{
            padding: 20px 15px;
        }}
        
        .footer-section h4 {{
            font-size: 1em;
        }}
    }}
    
    @media (max-width: 480px) {{
        .footer-container {{
            gap: 15px;
        }}
        
        .p-enhed {{
            padding: 8px;
        }}
        
        .footer-section p {{
            font-size: 0.9em;
        }}
    }}
    """
    
    return css

def generate_footer_json(language: str = "en", subdomain: str = "") -> str:
    """
    Generate footer data as JSON for API consumption
    
    Args:
        language: Language code for localization
        subdomain: Subdomain for customization
        
    Returns:
        JSON string with footer data
    """
    import json
    
    footer_data = {
        "footer_type": "zora_infinity_footer",
        "version": "1.0.0",
        "language": language,
        "subdomain": subdomain,
        "contact_data": get_full_contact_data(language, subdomain),
        "structure_preserved": INFINITY_FOOTER_STRUCTURE,
        "infinity_mode": True,
        "generated_timestamp": "2025-01-25T04:05:14Z"
    }
    
    return json.dumps(footer_data, indent=2, ensure_ascii=False)

def generate_minimal_footer(language: str = "en") -> str:
    """
    Generate minimal footer for space-constrained layouts
    
    Args:
        language: Language code for localization
        
    Returns:
        Minimal HTML footer string
    """
    email_label = get_localized_email_label(language)
    
    minimal_html = f"""
    <footer class="zora-minimal-footer">
        <div class="minimal-container">
            <span class="hq">ğŸ¢ {INFINITY_HQ_ADDRESS}</span>
            <span class="structure">ğŸ“ {INFINITY_FOOTER_STRUCTURE}</span>
            <span class="contact">ğŸ“§ <a href="mailto:{INFINITY_EMAIL}">{email_label}</a></span>
            <span class="cvr">CVR: {INFINITY_CVR}</span>
        </div>
    </footer>
    """
    
    return minimal_html

def inject_footer_into_html(html_content: str, language: str = "en", subdomain: str = "", position: str = "before_closing_body") -> str:
    """
    Inject ZORA INFINITY footer into existing HTML content
    
    Args:
        html_content: Original HTML content
        language: Language code for localization
        subdomain: Subdomain for customization
        position: Where to inject ('before_closing_body', 'after_main', 'replace_footer')
        
    Returns:
        HTML content with injected footer
    """
    footer_html = generate_footer_html(language, subdomain)
    
    if position == "before_closing_body":
        if "</body>" in html_content:
            return html_content.replace("</body>", f"{footer_html}\n</body>")
        else:
            return html_content + footer_html
    
    elif position == "after_main":
        if "</main>" in html_content:
            return html_content.replace("</main>", f"</main>\n{footer_html}")
        else:
            return html_content + footer_html
    
    elif position == "replace_footer":
        import re
        pattern = r'<footer.*?</footer>'
        return re.sub(pattern, footer_html, html_content, flags=re.DOTALL)
    
    return html_content + footer_html

FOOTER_TEMPLATES = {
    "full": generate_footer_html,
    "minimal": generate_minimal_footer,
    "css": generate_footer_css,
    "json": generate_footer_json
}

if __name__ == "__main__":
    print("ğŸŒ ZORA INFINITY FOOTER COMPONENT SYSTEM")
    print("=" * 50)
    
    print("ğŸ”§ Testing footer generation...")
    
    languages = ["en", "da", "de", "fr", "es"]
    for lang in languages:
        footer = generate_footer_html(language=lang)
        print(f"   âœ… {lang.upper()}: Footer generated ({len(footer)} chars)")
    
    minimal = generate_minimal_footer()
    print(f"   âœ… Minimal footer: {len(minimal)} chars")
    
    css = generate_footer_css()
    print(f"   âœ… CSS generated: {len(css)} chars")
    
    json_data = generate_footer_json()
    print(f"   âœ… JSON export: {len(json_data)} chars")
    
    print("\nâ™¾ï¸ INFINITY INJEKTIONâ„¢ Footer System Ready")
    print(f"ğŸ“ Structure: {INFINITY_FOOTER_STRUCTURE}")
    print(f"ğŸ“§ Email: {INFINITY_EMAIL}")
    print(f"ğŸ›ï¸ CVR: {INFINITY_CVR}")
